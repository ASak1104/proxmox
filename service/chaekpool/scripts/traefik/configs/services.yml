http:
  routers:
    # --- IAM (미들웨어 없음 — 로그인 페이지 접근 허용) ---
    authelia:
      rule: "Host(`authelia.cp.codingmon.dev`)"
      service: authelia
      entryPoints:
        - web

    # --- App (bypass — 자체 인증) ---
    kopring:
      rule: "Host(`api.cp.codingmon.dev`)"
      service: kopring
      entryPoints:
        - web

    # --- OIDC 서비스 (미들웨어 없음 — 네이티브 OIDC 인증) ---
    pgadmin:
      rule: "Host(`pgadmin.cp.codingmon.dev`)"
      service: pgadmin
      entryPoints:
        - web
    grafana:
      rule: "Host(`grafana.cp.codingmon.dev`)"
      service: grafana
      entryPoints:
        - web
    jenkins:
      rule: "Host(`jenkins.cp.codingmon.dev`)"
      service: jenkins
      entryPoints:
        - web

  services:
    # --- IAM ---
    authelia:
      loadBalancer:
        servers:
          - url: "http://10.1.0.101:9091"

    # --- App ---
    kopring:
      loadBalancer:
        servers:
          - url: "http://10.1.0.140:8080"

    # --- Data 관리 UI ---
    pgadmin:
      loadBalancer:
        servers:
          - url: "http://10.1.0.110:5050"

    # --- Monitoring ---
    grafana:
      loadBalancer:
        servers:
          - url: "http://10.1.0.120:3000"

    # --- CI/CD ---
    jenkins:
      loadBalancer:
        servers:
          - url: "http://10.1.0.130:8080"
